<!DOCTYPE html>  <html> <head>   <title>bystander.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="bystander.bin.html">                 bystander.bin.coffee               </a>                                           <a class="source" href="bystander.html">                 bystander.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               bystander.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <ul>
<li>The ultimate development automation tool that does nothing but watch
directory trees and boardcasts file changes.
It, however, lets many handy plagins listen to file state change events
and automates every aspect of a development cycle.</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h3>Require Dependencies</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h4>Standard Node Modules</h4>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">fs = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;fs&#39;</span><span class="p">)</span>
<span class="nv">path = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;path&#39;</span><span class="p">)</span>
<span class="nv">EventEmitter = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;events&#39;</span><span class="p">).</span><span class="nx">EventEmitter</span>
<span class="nv">util = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;util&#39;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h4>Third Party Modules</h4>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">_ = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;underscore&#39;</span><span class="p">)</span>
<span class="nv">minimatch = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;minimatch&#39;</span><span class="p">)</span>
<span class="nv">colors = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;colors&#39;</span><span class="p">)</span>
<span class="nv">FSWatchr = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;fswatchr&#39;</span><span class="p">)</span>
<span class="nv">async = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;async&#39;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <hr />             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <h2>Bystander Class</h2>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">module.exports = </span><span class="k">class</span> <span class="nx">Bystander</span> <span class="k">extends</span> <span class="nx">FSWatchr</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <h3>Class Properties</h3>

<p><code>@rgoot (String)</code> : the path to the root directory to watch <br />
<code>@opts (Objects)</code> : some options <br />
<code>@nolog (Bool)</code> : <code>true</code> to suppress stdout messages <br />
<code>@ignoreFiles (Array)</code> : glob <code>String</code> patterns to ignore files and directories <br />
<code>@configFile (String)</code> : a path to the configuration file</p>             </td>             <td class="code">               <div class="highlight"><pre> </pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h4>constructor</h4>

<p><code>@root</code> : see <em>Class Properties</em> section <br />
<code>@opts</code> : see <em>Class Properties</em> section</p>             </td>             <td class="code">               <div class="highlight"><pre> 
  <span class="nv">constructor: </span><span class="p">(</span><span class="vi">@root = </span><span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">(),</span> <span class="vi">@opts = </span><span class="p">{})</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>@root</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@opts.root = </span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">@root</span><span class="p">)</span>
    <span class="vi">@root = </span><span class="nx">@opts</span><span class="p">.</span><span class="nx">root</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>@nolog</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">@opts</span><span class="p">.</span><span class="nx">nolog</span> <span class="o">?=</span> <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>@configFile</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@configFile = </span><span class="nx">@opts</span><span class="o">?</span><span class="p">.</span><span class="nx">configFile</span> <span class="o">?</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">@root</span><span class="p">,</span> <span class="s">&#39;.bystander&#39;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>ignoreFiles</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@ignoreFiles = </span><span class="nx">@opts</span><span class="p">.</span><span class="nx">ignore</span> <span class="o">?</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nx">@opts</span><span class="o">?</span><span class="p">.</span><span class="nx">ignorePatterns</span><span class="o">?</span>
      <span class="nx">@setIgnoreFiles</span><span class="p">(</span><span class="nx">@opts</span><span class="p">.</span><span class="nx">ignorePatterns</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>plugin options</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">unless</span> <span class="nx">@opts</span><span class="p">.</span><span class="k">by</span><span class="o">?</span> <span class="o">and</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">@opts</span><span class="p">.</span><span class="k">by</span><span class="p">)</span> <span class="o">is</span> <span class="s">&#39;object&#39;</span> <span class="o">and</span> <span class="nx">util</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">@opts</span><span class="p">.</span><span class="k">by</span><span class="p">)</span> <span class="o">is</span> <span class="kc">false</span>
      <span class="vi">@opts.by = </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>plugins</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@by = </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>FSWatchr constructor</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">super</span><span class="p">(</span><span class="nx">@root</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <hr />             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <h3>Private Methods</h3>             </td>             <td class="code">               <div class="highlight"><pre> </pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h4>Read a .bystander file</h4>

<p><code>dir (String)</code> : a path to a directory <br />
<code>cb (Function)</code> : a callback function  </p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_readConfigFile: </span><span class="nf">(p, cb) -&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>resolve the config file path</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="o">not</span> <span class="nx">p</span><span class="o">?</span> <span class="o">or</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span>
      <span class="nv">cb = </span><span class="nx">p</span>
      <span class="nv">p = </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">@root</span><span class="p">,</span><span class="s">&quot;.bystander&quot;</span><span class="p">)</span>
    <span class="k">else</span> <span class="k">if</span> <span class="o">not</span> <span class="nx">p</span><span class="o">?</span>
      <span class="nv">p = </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">@root</span><span class="p">,</span><span class="s">&quot;.bystander&quot;</span><span class="p">)</span>
    <span class="nv">p = </span><span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>read the config file</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="s">&#39;utf8&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="k">if</span> <span class="o">not</span> <span class="nx">err</span>
        <span class="k">try</span>
          <span class="nv">config = </span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>set ignore patterns to @ignoreFiles</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="nv">patterns = </span><span class="nx">config</span><span class="p">.</span><span class="nx">ignore</span>
          <span class="k">if</span> <span class="nx">patterns</span><span class="o">?</span>
            <span class="nx">@setIgnoreFiles</span><span class="p">(</span><span class="nx">patterns</span><span class="p">)</span>
          <span class="k">if</span> <span class="nx">@opts</span><span class="p">.</span><span class="nx">plugins</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span> <span class="o">is</span> <span class="mi">0</span> <span class="o">and</span> <span class="nx">config</span><span class="p">.</span><span class="nx">plugins</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span> <span class="o">isnt</span> <span class="mi">0</span>
            <span class="vi">@opts.plugins = </span><span class="nx">config</span><span class="p">.</span><span class="nx">plugins</span>
          <span class="k">if</span> <span class="nx">config</span><span class="p">.</span><span class="k">by</span><span class="o">?</span> <span class="o">and</span> <span class="k">typeof</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="k">by</span><span class="p">)</span> <span class="o">is</span> <span class="s">&#39;object&#39;</span> <span class="o">and</span> <span class="nx">util</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="k">by</span><span class="p">)</span> <span class="o">is</span> <span class="kc">false</span>
            <span class="vi">@opts.by = </span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="k">by</span><span class="p">,</span><span class="nx">@opts</span><span class="p">.</span><span class="k">by</span><span class="p">)</span>
          <span class="vi">@opts = </span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">config</span><span class="p">,</span><span class="nx">@opts</span><span class="p">)</span>
  
        <span class="k">catch</span> <span class="nx">e</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;ERROR! - coudn&#39;t parse config file </span><span class="si">#{</span><span class="nx">p</span><span class="si">}</span><span class="s">&quot;</span><span class="p">.</span><span class="nx">red</span> <span class="o">+</span> <span class="s">&#39;\n&#39;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>callback</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">cb</span><span class="p">(</span><span class="nx">@ignoreFiles</span><span class="p">)</span>
    <span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h4>set plugins to @by</h4>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_requirePlugins: </span><span class="o">-&gt;</span>
    <span class="k">if</span> <span class="nx">@opts</span><span class="p">.</span><span class="nx">plugins</span><span class="o">?</span>
      <span class="k">for</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">@opts</span><span class="p">.</span><span class="nx">plugins</span>
        <span class="k">try</span>
          <span class="nv">r = </span><span class="nx">require</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
          <span class="nx">@</span><span class="k">by</span><span class="p">[</span><span class="nx">path</span><span class="p">.</span><span class="nx">basename</span><span class="p">(</span><span class="nx">v</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^by-/i</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">r</span><span class="p">(</span><span class="nx">@opts</span><span class="p">)</span>
        <span class="k">catch</span> <span class="nx">e</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s">&quot;ERROR! - </span><span class="si">#{</span><span class="nx">v</span><span class="si">}</span><span class="s"> plugin not found!&quot;</span><span class="p">.</span><span class="nx">red</span> <span class="o">+</span> <span class="s">&#39;\n&#39;</span><span class="p">)</span>
          <span class="nx">@emit</span><span class="p">(</span><span class="s">&#39;plugin error&#39;</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">#{</span><span class="nx">v</span><span class="si">}</span><span class="s"> plugin not found!&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h4>execute _init method, if any,  for each plugins</h4>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_init: </span><span class="nf">(cb) -&gt;</span>
    <span class="nx">async</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
      <span class="nx">_</span><span class="p">(</span><span class="nx">@</span><span class="k">by</span><span class="p">).</span><span class="nx">toArray</span><span class="p">(),</span>
      <span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="k">if</span> <span class="nx">v</span><span class="p">.</span><span class="nx">_init</span><span class="o">?</span>
          <span class="nx">v</span><span class="p">.</span><span class="nx">_init</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="nf">()-&gt;</span>
            <span class="nx">callback</span><span class="p">()</span>
          <span class="p">)</span>
        <span class="k">else</span>
          <span class="nx">callback</span><span class="p">()</span>
      <span class="o">=&gt;</span>
        <span class="nx">cb</span><span class="p">()</span>
    <span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <h3>execute _init method, if any,  for each plugins</h3>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_setListeners: </span><span class="nf">(cb) -&gt;</span>
    <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="k">of</span> <span class="nx">@</span><span class="k">by</span>
      <span class="k">if</span> <span class="nx">v</span><span class="p">.</span><span class="nx">_setListeners</span><span class="o">?</span>
        <span class="nx">v</span><span class="p">.</span><span class="nx">_setListeners</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">v</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
  </pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <h4>check if the given file should be ignored</h4>

<p><code>dir (String)</code> : a path to a file</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">_isIgnore: </span><span class="nf">(file) -&gt;</span>
    <span class="k">for</span> <span class="nx">v</span> <span class="k">in</span> <span class="nx">@ignoreFiles</span>
      <span class="k">if</span> <span class="nx">minimatch</span><span class="p">(</span><span class="nx">file</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="p">{</span><span class="nv">dot : </span><span class="kc">true</span><span class="p">})</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="k">return</span> <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <hr />             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <h3>Public API</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <h4>Add patterns to @ignoreFile</h4>

<p><code>newFiles (Array)</code> : glob <code>String</code>s to add to <code>@ignoreFile</code>  </p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">setIgnoreFiles: </span><span class="nf">(newFiles) -&gt;</span>
    <span class="vi">@ignoreFiles = </span><span class="nx">_</span><span class="p">(</span><span class="nx">@ignoreFiles</span><span class="p">).</span><span class="nx">union</span><span class="p">(</span><span class="nx">newFiles</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <h4>Unset ignore patterns for the given directory</h4>

<p><code>dir (String)</code> : a directory path  </p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">unsetIgnoreFiles: </span><span class="nf">(patterns) -&gt;</span>
    <span class="k">if</span> <span class="nx">patterns</span><span class="o">?</span>
      <span class="vi">@ignoreFiles = </span><span class="nx">_</span><span class="p">(</span><span class="nx">@ignoreFiles</span><span class="p">).</span><span class="nx">reject</span><span class="p">(</span><span class="nf">(v) -&gt;</span>
        <span class="k">return</span> <span class="nx">patterns</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span>
      <span class="p">)</span>
    <span class="k">return</span> <span class="nx">@ignoreFiles</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <h4>Run CoffeeStand</h4>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">run: </span><span class="o">-&gt;</span>
    <span class="nx">@_readConfigFile</span><span class="p">(</span><span class="nx">@configFile</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="nx">@_requirePlugins</span><span class="p">()</span>
      <span class="nx">@_init</span><span class="p">(()</span> <span class="o">=&gt;</span>
        <span class="nx">@_setListeners</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Then get .csmapper</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">@setFilter</span><span class="p">((</span><span class="nx">dir</span><span class="p">,</span> <span class="nx">path</span><span class="p">)</span><span class="o">=&gt;</span>
          <span class="k">return</span> <span class="nx">@_isIgnore</span><span class="p">(</span><span class="nx">dir</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="nx">@watch</span><span class="p">()</span>
      <span class="p">)</span>
    <span class="p">)</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 